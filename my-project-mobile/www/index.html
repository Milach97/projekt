<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" /> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <script src="cordova.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <link href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" rel="stylesheet"/>
    <script id="mobile-datepicker" src="http://cdn.rawgit.com/arschmitz/jquery-mobile-datepicker-wrapper/v0.1.1/jquery.mobile.datepicker.js"></script>
    <!-- <script src="../node_modules/spark-md5/spark-md5.js" type="text/javascript"></script> -->

    <link rel="stylesheet" type="text/css" media="all" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/smoothness/jquery-ui.css"/>


    <link rel="stylesheet" href="http://cdn.rawgit.com/arschmitz/jquery-mobile-datepicker-wrapper/v0.1.1/jquery.mobile.datepicker.css"/>
    <script src="http://cdn.rawgit.com/jquery/jquery-ui/1.10.4/ui/jquery.ui.datepicker.js"></script>
    <script id="mobile-datepicker" src="http://cdn.rawgit.com/arschmitz/jquery-mobile-datepicker-wrapper/v0.1.1/jquery.mobile.datepicker.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/spark-md5/3.0.0/spark-md5.js"></script>
    
    <link href="css/styles.css" rel="stylesheet"/>
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src *; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data:">
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval' http://www.google.com"> -->
    
<script>
var _app = {
    // Application Constructor
    initialize: function() {
        document.addEventListener('deviceready', this.onDeviceReady.bind(this), false);
    },

    // deviceready Event Handler
    //
    // Bind any cordova events here. Common events are:
    // 'pause', 'resume', etc.
    onDeviceReady: function() {
        this.receivedEvent('deviceready');
        App.ShowSplashScreen();
    },

    // Update DOM on a Received Event
    receivedEvent: function(id) {
        var parentElement = document.getElementById(id);
        var listeningElement = parentElement.querySelector('.listening');
        var receivedElement = parentElement.querySelector('.received');

        listeningElement.setAttribute('style', 'display:none;');
        receivedElement.setAttribute('style', 'display:block;');

        console.log('Received Event: ' + id);
    }
};

_app.initialize();    


var Ajax = {

    //login bez parametru sessionID
    login: function ( type, url, data, success, complete, error ) {

        $.ajax({

            cache: false,
            url: App.BaseUrl  + url,
            type: type,
            // headers: {
            //     'Access-Control-Allow-Origin':'*',
            //     'Content-Type': 'application/json',
            // },
            // origin: window.location.href,
            dataType: "json", 
            data: data,


            success: function(response){
                if(success){
                    App[success](response);
                }
            },
            beforeSend: function(xhr){
                //xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
                //xhr.setRequestHeader ("Authorization", "Basic " + btoa("usermobile:123456"));
            },
            error: function(response){
                if(response)
                    App[error](response);
                else
                    App[error]();


            },
            complete: function(){
                if(complete){
                    App[complete]();
                }

            }

        });
    },




    go: function ( type, url, data, success, beforeSend, complete, error ) {

        $.ajax({
            cache: false,
            url: App.BaseUrl  + url + '?sessionId=' + App.GetSessionId(),
            type: type,
            dataType: "json",
            data: data,

            success: function(response){
                if(success){
                    App[success](response);
                }
            },
            beforeSend: function(xhr){
                if(beforeSend)
                    App[beforeSend](xhr);
            },
            error: function(response){
                if(error)
                    if(response)
                        App[error](response);
                    else
                        App[error]();
            },
            complete: function(){
                if(complete)
                    App[complete]();
            }

        });
    }

};


</script>
<script src="js/app.js"></script> <!-- Lecture 63 -->
<script src="js/html.js"></script> <!-- Lecture 63 -->
<script src="js/control.js"></script>

<title>Panel użytkownika</title>


</head>
<body>


<!-- strona logowania -->
<div data-role="page" id="loginpage">
    <div data-role="main" class="ui-content">

        <div id="logincontainer">

            <label for="email">Adres e-mail</label>
            <input type="email" name="email" id="email" value="">

            <label for="password">Hasło</label>
            <input type="password" name="password" id="password" value="">

            <!-- <label for="submit-login">Log in</label> -->
            <button type="submit" id="submit-login" class="ui-shadow ui-btn ui-corner-all ui-mini">Zaloguj się</button>

        </div>
    </div>
</div>




<!-- Moje zdrowie -->
<div data-role="page" id="myhealth">
    <div data-role="main" class="ui-content">

        <div data-role="header" id="header">
            <h1 id="header-text">Menu</h1>
            <div data-role="navbar">
                <ul>
                    <!-- <li><a href="#homepage" data-transition="none">Panel główny</a></li> -->
                    <li><a href="#myhealth" data-transition="none">Moje zdrowie </a></li>
                    <li><a href="#protector" data-transition="none">Opiekun</a></li>
                    <li><a href="#account" data-transition="none">Moje konto</a></li>
                    <li><a href="#logout" data-transition="none" id="logout">Wyloguj</a></li>
                    <!-- <li><a href="#loginpage" data-transition="none" id="loginhref">Zaloguj się</a></li> -->
                </ul>
            </div>
        </div>


        <h1>Moje zdrowie</h1>
        <ul data-role="listview" data-inset="true">
            <li>
                <a href="#pulse" data-transition="none">
                    <img src="img/pulse.png">
                    <h2>Puls</h2>
                    <p>Sprawdź swoje ostatnie pomiary pulsu lub dodaj nowy.</p>
                </a>
            </li>
            <li>
                <a href="#saturation" data-transition="none">
                    <img src="img/blood.png">
                    <h2>Saturacja</h2>
                    <p>Sprawdź swoje ostatnie pomiary saturacji lub dodaj nowy.</p>
                </a>
            </li>
            <li>
                <a href="#weight" data-transition="none">
                    <img src="img/weight.png">
                    <h2>Waga</h2>
                    <p>Sprawdź ostatnie wahania wagi lub dodaj nowy pomiar.</p>
                </a>
            </li>
            <li>
                <a href="#pressure" data-transition="none">
                    <img src="img/pacemaker.png">
                    <h2>Ciśnienie</h2>
                    <p>Sprawdź ostatnie pomiary ciśnienia lub dodaj nowy.</p>
                </a>
            </li>
        </ul>
    </div>

</div>





<!-- Puls -->
<div data-role="page" id="pulse">
    <div data-role="main" class="ui-content">

        <a href="#" class="ui-btn" data-rel="back">Powrót</a>
        <div id="objectdata">
            <h1>Puls</h1>
            <p>Id ut nostrum ipsam quis dicta sed maxime. Natus quibusdam beatae qui placeat nulla doloremque.</p>
            <p>Zapisane wartości pulsu:</p>
            
            <ul id="pulses-list" data-page="1" data-role="listview" data-inset="true">
            </ul> 
        </div>

        <div class="pagination">
            <a id="pulsePrevPageNav" style="display: none;" href="#">&laquo;</a>
            <a id="pulseActivePageNumber" href="#">1</a>
            <a id="pulseNextPageNav" style="display: none;" href="#">&raquo;</a>
          </div>

    </div>
</div>


<!-- Saturacja -->
<div data-role="page" id="saturation">
    <div data-role="main" class="ui-content">

        <a href="#" class="ui-btn" data-rel="back">Powrót</a>
        <div id="objectdata">
            <h1>Saturacja</h1>
            <p>Id ut nostrum ipsam quis dicta sed maxime. Natus quibusdam beatae qui placeat nulla doloremque.</p>
            <p>Zapisane wartości saturacji:</p>
            
            <ul id="saturations-list" data-page="0" data-role="listview" data-inset="true">
            </ul> 
        </div>
        
    </div>
</div>

<!-- Waga -->
<div data-role="page" id="weight">
    <div data-role="main" class="ui-content">

        <a href="#" class="ui-btn" data-rel="back">Powrót</a>
        <div id="objectdata">
            <h1>Waga</h1>
            <p>Id ut nostrum ipsam quis dicta sed maxime. Natus quibusdam beatae qui placeat nulla doloremque.</p>
            <p>Zapisane wartości wagi:</p>
            
            <ul id="weights-list" data-page="0" data-role="listview" data-inset="true">
            </ul> 
        </div>
        
    </div>
</div>

<!-- Ciśnienie -->




<!-- Opiekun -->
<div data-role="page" id="protector">
    <div data-role="main" class="ui-content">

        <div data-role="header" id="header">
            <h1 id="header-text">Menu</h1>
            <div data-role="navbar">
                <ul>
                    <li><a href="#myhealth" data-transition="none">Moje zdrowie </a></li>
                    <li><a href="#protector" data-transition="none">Opiekun</a></li>
                    <li><a href="#account" data-transition="none">Moje konto</a></li>
                    <li><a href="#logout" data-transition="none" id="logout">Wyloguj</a></li>
                </ul>
            </div>
        </div>

        <h1>Opiekun</h1>
        <div id="user-reservations">
            <ul id="protectors-list" data-role="listview" data-inset="true">
                <li data-role="list-divider">Lista opiekunów</li>
            </ul>
        </div>
        
    </div>

</div>




<!-- Moje konto -->
<div data-role="page" id="account">
    <div data-role="main" class="ui-content">

        <div data-role="header" id="header">
            <h1 id="header-text">Menu</h1>
            <div data-role="navbar">
                <ul>
                    <li><a href="#myhealth" data-transition="none">Moje zdrowie </a></li>
                    <li><a href="#protector" data-transition="none">Opiekun</a></li>
                    <li><a href="#account" data-transition="none">Moje konto</a></li>
                    <li><a href="#logout" data-transition="none" id="logout">Wyloguj</a></li>
                </ul>
            </div>
        </div>

        <h1>Moje konto</h1>
        <table data-role="table" id="account-table" data-mode="reflow" class="ui-responsive table-stroke">
            <thead>
              <tr>
                <th>Imię:</th>
                <th>Nazwisko:</th>
                <th>E-mail:</th>
                <th>Nr telefonu:</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span id="nameRowVal">-</span></td>
                <td><span id="lastNameRowVal">-</span></td>
                <td><span id="emailRowVal">-</span></td>
                <td><span id="phoneRowVal">-</span></td>
              </tr>
            </tbody>
        </table>
    </div>
</div>



</body>
</html>
